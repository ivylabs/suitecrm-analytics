<data:sql-datasource xmlns:data="http://jfreereport.sourceforge.net/namespaces/datasources/sql">
  <data:config/>
  <data:jndi>
    <data:path>SuiteCRMAnalytics</data:path>
  </data:jndi>
  <data:query-definitions>
    <data:query name="Report">
      <data:static-query>SELECT 
	FIM.INVOICE_LINE_QUANTITY
	,FIM.INVOICE_LINE_LIST_PRICE_AMOUNT
	,FIM.INVOICE_LINE_DISCOUNT_VALUE
	,FIM.INVOICE_LINE_DISCOUNT_AMOUNT
	,FIM.INVOICE_LINE_UNIT_PRICE_AMOUNT
	,FIM.INVOICE_DATE_TK
	,FIM.INVOICE_DUE_DATE_TK
	,CAST(FIM.INVOICE_LINE_VAT_VALUE AS DECIMAL(10,3)) AS INVOICE_LINE_VAT_VALUE
	,FIM.INVOICE_LINE_TOTAL_VAT_AMOUNT
	,FIM.INVOICE_LINE_TOTAL_AMOUNT
	,FIM.INVOICE_LINE_LIST_PRICE_AMOUNT*FIM.INVOICE_LINE_QUANTITY AS INVOICE_LINE_TOTAL_BEFORE_DISCOUNT
	,(FIM.INVOICE_LINE_LIST_PRICE_AMOUNT-FIM.INVOICE_LINE_UNIT_PRICE_AMOUNT)*FIM.INVOICE_LINE_QUANTITY AS INVOICE_LINE_DISCOUNT_TOTAL
	,DP.PRODUCT_NAME
	,DU.USER_FIRST_NAME
	,DU.USER_LAST_NAME
	,DA.ACCOUNT_NAME
	,DI.INVOICE_NUMBER
	,DI.INVOICE_NAME
	,DI.INVOICE_STATUS
	,DA.ACCOUNT_NAME
	,DA.ACCOUNT_BILLING_ADDRESS_STREET
	,DA.ACCOUNT_BILLING_ADDRESS_CITY
	,DA.ACCOUNT_BILLING_ADDRESS_STATE
	,DA.ACCOUNT_BILLING_ADDRESS_COUNTRY
	,DA.ACCOUNT_BILLING_ADDRESS_POSTCODE
FROM F_INVOICE_MANAGEMENT FIM
INNER JOIN D_INVOICES DI
	ON FIM.INVOICE_TK = DI.INVOICE_TK
INNER JOIN D_PRODUCTS DP
	ON FIM.PRODUCT_TK = DP.PRODUCT_TK
INNER JOIN D_USERS DU
	ON FIM.ASSIGNED_USER_TK = DU.USER_TK
INNER JOIN D_ACCOUNTS DA
	ON FIM.BILLING_ACCOUNT_TK = DA.ACCOUNT_TK
WHERE (DI.INVOICE_NUMBER IN (${pInvoiceNumberFilter}) OR &apos;All Invoice Numbers&apos; IN (${pInvoiceNumberFilter}))
AND (DI.INVOICE_NAME IN (${pInvoiceFilter}) OR &apos;All Invoices&apos; IN (${pInvoiceFilter}))
AND (DI.INVOICE_STATUS IN (${pInvoiceStatusFilter}) OR &apos;All Invoice Status&apos; IN (${pInvoiceStatusFilter}))</data:static-query>
    </data:query>
  </data:query-definitions>
</data:sql-datasource>
